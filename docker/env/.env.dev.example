# =============================================================================
# weAlist Project - Development Environment Configuration
# =============================================================================
# 이 파일을 복사하여 .env.dev 로 저장하고 필요한 값을 설정하세요.
# cp .env.dev.example .env.dev
# =============================================================================

# =============================================================================
# General Settings
# =============================================================================
APP_NAME=wealist
ENVIRONMENT=dev
LOG_LEVEL=debug
VERSION=latest
CACHEBUST=1

# =============================================================================
# Host Ports (로컬 개발 환경에서 노출되는 포트)
# =============================================================================
USER_HOST_PORT=8081
AUTH_HOST_PORT=8080
BOARD_HOST_PORT=8000
CHAT_HOST_PORT=8001
NOTI_HOST_PORT=8002
STORAGE_HOST_PORT=8003
VIDEO_HOST_PORT=8004
FRONTEND_HOST_PORT=3000
POSTGRES_HOST_PORT=5432
REDIS_HOST_PORT=6379
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
LIVEKIT_PORT=7880
LIVEKIT_RTC_PORT=7881
COTURN_PORT=3478
NGINX_PORT=80
PROMETHEUS_PORT=9090
LOKI_PORT=3100
GRAFANA_PORT=3001
REDIS_EXPORTER_PORT=9121
POSTGRES_EXPORTER_PORT=9187

# =============================================================================
# PostgreSQL - Superuser (init-db.sh에서 DB/User 생성용)
# =============================================================================
POSTGRES_SUPERUSER=postgres
POSTGRES_SUPERUSER_PASSWORD=postgres_super_password

# =============================================================================
# PostgreSQL - User Service Database
# =============================================================================
USER_DB_NAME=wealist_user_db
USER_DB_USER=user_service
USER_DB_PASSWORD=user_service_password

# =============================================================================
# PostgreSQL - Board Service Database
# =============================================================================
BOARD_DB_NAME=wealist_board_db
BOARD_DB_USER=board_service
BOARD_DB_PASSWORD=board_service_password

# =============================================================================
# PostgreSQL - Chat Service Database
# =============================================================================
CHAT_DB_NAME=wealist_chat_db
CHAT_DB_USER=chat_service
CHAT_DB_PASSWORD=chat_service_password

# =============================================================================
# PostgreSQL - Notification Service Database
# =============================================================================
NOTI_DB_NAME=wealist_noti_db
NOTI_DB_USER=noti_service
NOTI_DB_PASSWORD=noti_service_password

# =============================================================================
# PostgreSQL - Storage Service Database
# =============================================================================
STORAGE_DB_NAME=wealist_storage_db
STORAGE_DB_USER=storage_service
STORAGE_DB_PASSWORD=storage_service_password

# =============================================================================
# PostgreSQL - Video Service Database
# =============================================================================
VIDEO_DB_NAME=wealist_video_db
VIDEO_DB_USER=video_service
VIDEO_DB_PASSWORD=video_service_password

# =============================================================================
# Notification Service
# =============================================================================
NOTI_SERVICE_URL=http://noti-service:8002
INTERNAL_API_KEY=internal-api-key-change-this-in-production

# =============================================================================
# Redis
# =============================================================================
REDIS_PASSWORD=redis_password

# =============================================================================
# JWT Configuration
# =============================================================================
# 최소 256비트(32자 이상) 시크릿 키 권장
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_ACCESS_TOKEN_EXPIRATION_MS=1800000
JWT_REFRESH_TOKEN_EXPIRATION_MS=604800000

# =============================================================================
# JPA/Hibernate (Java Services)
# =============================================================================
JPA_DDL_AUTO=update
JPA_SHOW_SQL=true
JPA_FORMAT_SQL=true

# =============================================================================
# Google OAuth2 (선택사항 - OAuth 로그인 사용 시)
# =============================================================================
# Google Cloud Console에서 OAuth 2.0 클라이언트 ID 생성
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth 리다이렉트 URL
OAUTH2_CLIENT_REDIRECT_URI=http://localhost:8080/oauth2/callback/google
OAUTH2_REDIRECT_URL=http://localhost:3000/oauth/callback

# =============================================================================
# CORS Configuration
# =============================================================================
# 모든 서비스 포트 포함: frontend(3000), board(8000), chat(8001), noti(8002),
# storage(8003), video(8004), auth(8080), user(8081), livekit(7880)
CORS_ORIGINS=http://localhost:3000,http://localhost:7880,http://localhost:7881,http://localhost:8000,http://localhost:9000,http://localhost:9002,http://localhost:8001,http://localhost:8002,http://localhost:8003,http://localhost:8004,http://localhost:8080,http://localhost:8081,http://127.0.0.1:3000,http://127.0.0.1:8080

# =============================================================================
# S3 / MinIO Configuration (파일 업로드)
# =============================================================================
# 개발 환경에서는 MinIO 사용 (S3 호환)
S3_BUCKET=wealist-local-files
S3_REGION=ap-northeast-2
S3_ENDPOINT=http://minio:9000
S3_PUBLIC_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin

# MinIO 관리자 계정
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# =============================================================================
# Sample Data (개발용 더미 데이터 생성)
# =============================================================================
SAMPLE_DATA_ENABLED=true

# =============================================================================
# Frontend Configuration
# =============================================================================
VITE_API_BASE_URL=http://localhost

# =============================================================================
# LiveKit Configuration (Video Calls - WebRTC SFU)
# =============================================================================
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=devsecretkey1234567890abcdefghijk
LIVEKIT_WS_URL=ws://localhost:7880

# =============================================================================
# TURN/STUN Server Configuration (coturn)
# =============================================================================
TURN_SERVER_URL=turn:localhost:3478
TURN_USERNAME=wealist
TURN_PASSWORD=wealist-turn-password

# =============================================================================
# SonarQube - Code Quality & Security Analysis
# =============================================================================
SONARQUBE_PORT=9002
SONARQUBE_DB_NAME=wealist_sonarqube_db
SONARQUBE_DB_USER=sonarqube_service
SONARQUBE_DB_PASSWORD=sonarqube_service_password

# =============================================================================
# Notes
# =============================================================================
# 1. 이 파일의 값들은 개발 환경용입니다. 프로덕션에서는 절대 사용하지 마세요!
# 2. JWT_SECRET은 반드시 변경하세요 (최소 32자 이상)
# 3. Google OAuth를 사용하려면 GOOGLE_CLIENT_ID와 GOOGLE_CLIENT_SECRET을 설정하세요
# 4. postgres 볼륨이 이미 존재하면 DB 초기화가 실행되지 않습니다.
#    새로운 DB 설정을 적용하려면: docker volume rm wealist-postgres-data
# =============================================================================

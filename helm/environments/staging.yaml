# # =============================================================================
# # Staging Environment
# # =============================================================================
# # Pre-production staging environment
# # Namespace: wealist-staging

# # -----------------------------------------------------------------------------
# # Global Settings
# # -----------------------------------------------------------------------------
# global:
#   namespace: wealist-staging
#   environment: staging
#   domain: staging.wealist.co.kr
#   imageRegistry: ghcr.io/orangescloud

# # -----------------------------------------------------------------------------
# # Deployment Settings
# # -----------------------------------------------------------------------------
# replicaCount: 2  # Higher availability in staging

# image:
#   pullPolicy: IfNotPresent

# # -----------------------------------------------------------------------------
# # Resources (Staging - closer to prod)
# # -----------------------------------------------------------------------------
# resources:
#   requests:
#     memory: "256Mi"
#     cpu: "100m"
#   limits:
#     memory: "512Mi"
#     cpu: "500m"

# # -----------------------------------------------------------------------------
# # Health Check
# # -----------------------------------------------------------------------------
# healthCheck:
#   liveness:
#     initialDelaySeconds: 30
#   readiness:
#     initialDelaySeconds: 10

# # -----------------------------------------------------------------------------
# # Security (Production-like)
# # -----------------------------------------------------------------------------
# podSecurityContext:
#   runAsNonRoot: true
#   fsGroup: 1000

# securityContext:
#   allowPrivilegeEscalation: false
#   runAsNonRoot: true
#   readOnlyRootFilesystem: true
#   capabilities:
#     drop:
#       - ALL

# # -----------------------------------------------------------------------------
# # Features (Partial production features)
# # -----------------------------------------------------------------------------
# autoscaling:
#   enabled: false  # Manual scaling in staging

# serviceAccount:
#   create: true

# networkPolicy:
#   enabled: true

# podDisruptionBudget:
#   enabled: true
#   minAvailable: 1

# # -----------------------------------------------------------------------------
# # Shared Configuration
# # -----------------------------------------------------------------------------
# shared:
#   config:
#     ENV: "staging"
#     LOG_LEVEL: "info"
#     CORS_ORIGINS: "https://staging.wealist.co.kr"
#     S3_PUBLIC_ENDPOINT: "https://staging.wealist.co.kr/minio"
#     LIVEKIT_WS_URL: "wss://staging.wealist.co.kr/svc/livekit"
#     # OAuth2 Redirect URLs
#     OAUTH2_CLIENT_REDIRECT_URI: "https://staging.wealist.co.kr/oauth2/callback/google"
#     OAUTH2_REDIRECT_URL_ENV: "https://staging.wealist.co.kr/oauth/callback"

# -----------------------------------------------------------------------------
# Ingress
# -----------------------------------------------------------------------------
ingress:
  enabled: true
  className: nginx
  # Frontend is served via S3/CloudFront, not K8s
  includeFrontend: false
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-staging  # Use staging issuer first
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  hosts:
    - host: staging.wealist.co.kr
  tls:
    - secretName: staging-wealist-tls
      hosts:
        - staging.wealist.co.kr

# Istio Addons Configuration
namespace: istio-system

# Kiali - Service Mesh Dashboard
kiali:
  enabled: true
  service:
    type: ClusterIP
    port: 20001
  auth:
    strategy: anonymous  # anonymous, token, openid
  prometheus:
    url: "http://prometheus:9090"
  grafana:
    enabled: true
    url: "http://grafana:3000"
  tracing:
    enabled: true
    url: "http://jaeger-query:16686"

# Jaeger - Distributed Tracing
jaeger:
  enabled: true
  allInOne: true  # For dev/test. Set false for production
  service:
    collector:
      port: 14268
    query:
      port: 16686
    zipkin:
      port: 9411
  storage:
    type: memory  # memory, elasticsearch, cassandra
    # For production, use:
    # type: elasticsearch
    # elasticsearch:
    #   host: elasticsearch
    #   port: 9200

# Prometheus - Metrics (Istio telemetry)
prometheus:
  enabled: true
  service:
    port: 9090
  retention: 6h
  scrapeInterval: 15s

# Grafana - Visualization
grafana:
  enabled: true
  service:
    type: ClusterIP
    port: 3000
  adminUser: admin
  adminPassword: admin
  dashboards:
    istio: true

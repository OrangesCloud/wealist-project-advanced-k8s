# =============================================================================
# auth-service - Development Environment (Local Registry + local.wealist.co.kr)
# =============================================================================
# Overrides for local Kind cluster with localhost:5001 registry

# -----------------------------------------------------------------------------
# Global Overrides
# -----------------------------------------------------------------------------
global:
  namespace: wealist-dev
  environment: develop
  domain: local.wealist.co.kr
  imageRegistry: localhost:5001

# -----------------------------------------------------------------------------
# Image Overrides
# -----------------------------------------------------------------------------
image:
  pullPolicy: Always  # Always pull in development

# -----------------------------------------------------------------------------
# Deployment Overrides
# -----------------------------------------------------------------------------
replicaCount: 1  # Single replica for development

# -----------------------------------------------------------------------------
# Application Configuration Overrides
# -----------------------------------------------------------------------------
config:
  ENV: "dev"
  LOG_LEVEL: "debug"
  SPRING_PROFILES_ACTIVE: "dev"

  # OAuth2 URLs for local development
  OAUTH2_REDIRECT_URL_ENV: "http://local.wealist.co.kr/oauth/callback"
  OAUTH2_CLIENT_REDIRECT_URI: "http://local.wealist.co.kr/oauth2/callback/google"

  # CORS for local development
  CORS_ALLOWED_ORIGINS: "http://local.wealist.co.kr,http://localhost:3000"

# -----------------------------------------------------------------------------
# Health Check Overrides (faster startup in dev)
# -----------------------------------------------------------------------------
healthCheck:
  liveness:
    path: /actuator/health/liveness
    initialDelaySeconds: 20  # Faster startup in dev
  readiness:
    path: /actuator/health/readiness
    initialDelaySeconds: 10

# -----------------------------------------------------------------------------
# Resource Overrides (Lower limits for development)
# -----------------------------------------------------------------------------
resources:
  requests:
    memory: "256Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# -----------------------------------------------------------------------------
# Autoscaling Disabled (Not needed in development)
# -----------------------------------------------------------------------------
autoscaling:
  enabled: false

# -----------------------------------------------------------------------------
# Security Overrides (Relaxed for development)
# -----------------------------------------------------------------------------
podSecurityContext:
  runAsNonRoot: false  # Allow root in dev for debugging

securityContext:
  allowPrivilegeEscalation: false
  runAsNonRoot: false

# -----------------------------------------------------------------------------
# Service Account (Simple in development)
# -----------------------------------------------------------------------------
serviceAccount:
  create: false  # Use default service account

# -----------------------------------------------------------------------------
# Network Policy Disabled (Not needed in local cluster)
# -----------------------------------------------------------------------------
networkPolicy:
  enabled: false

# -----------------------------------------------------------------------------
# Monitoring Overrides
# -----------------------------------------------------------------------------
metrics:
  enabled: true  # Enable for testing

podAnnotations: {}

# -----------------------------------------------------------------------------
# Pod Disruption Budget Disabled (Not needed in development)
# -----------------------------------------------------------------------------
podDisruptionBudget:
  enabled: false

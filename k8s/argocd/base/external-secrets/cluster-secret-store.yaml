# =============================================================================
# ClusterSecretStore - AWS Secrets Manager
# =============================================================================
# Pod Identity를 통해 AWS Secrets Manager에 접근
# Terraform에서 external-secrets 네임스페이스의 external-secrets ServiceAccount에
# Pod Identity가 설정되어 있어야 함

apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: aws-secrets-manager
spec:
  provider:
    aws:
      service: SecretsManager
      region: ap-northeast-2
      # Pod Identity 사용 (Terraform에서 설정됨)
      # auth 섹션 생략 시 Pod Identity 또는 IRSA 자동 사용

{{- include "wealist-common.configmap" . }}
---
{{/* Runtime configuration ConfigMap for browser */}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "wealist-common.fullname" . }}-runtime-config
  labels:
    {{- include "wealist-common.labels" . | nindent 4 }}
data:
  config.js: |
    // Runtime configuration for K8s environment
    // This file is mounted to /usr/share/nginx/html/config.js
    // and loaded by the browser at runtime
    window.__ENV__ = {
      API_BASE_URL: {{ .Values.config.runtimeConfig.API_BASE_URL | quote }}
    };
